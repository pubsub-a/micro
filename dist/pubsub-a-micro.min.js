var PubSubMicro=function(t){function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var i=e(1);t.exports=i["default"]},function(t,n,e){function i(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];t&&t.apply(t,n)}function r(t,n,e){void 0===n&&(n="publish"),void 0===e&&(e="subscribe");var i=new h;return t[e]=i.subscribe,t[n]=i.publish,t}var o=e(2),s=e(3),u=e(4),c=function(){function t(){this.subscriptionCache=new o.BucketHash}return t.prototype.start=function(t){i(t,this,void 0,void 0)},t.prototype.stop=function(t){i(t)},t.prototype.channel=function(t,n){var e=new f(t,this.subscriptionCache);return n&&n(e),e},t.includeIn=function(t,n,e){return r(t,n,e)},t.BucketHash=o.BucketHash,t.invokeIfDefined=i,t.SubscriptionToken=s.SubscriptionToken,t.Util=u["default"],t}();Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=c;var h=function(){function t(){var t=new c;this.channel=t.channel("__i",void 0),this.subscribe=this._subscribe.bind(this),this.publish=this._publish.bind(this)}return t.prototype._subscribe=function(t){return this.channel.subscribe("a",t)},t.prototype._publish=function(t){return this.channel.publish("a",t)},t}(),a=function(){function t(t,n){this.name=t,this.cache=n}return t.prototype.publish=function(t){for(var n=this.cache.get(this.name),e=0;e<n.length;e++)n[e](t)},t}(),p=function(){function t(t,n){this.name=t,this.cache=n}return t.prototype.subscribe=function(t){var n=this,e=this.cache.add(this.name,t),r=function(e){var r=n.cache.remove(n.name,t);return i(e,r),r};return new s.SubscriptionToken(r,e)},t}(),f=function(){function t(t,n){this.name=t,this.cache=n,this.name=t}return t.prototype.publish=function(t,n,e){var r=new a(t,this.cache);r.publish(n),i(e,t,n)},t.prototype.subscribe=function(t,n,e){var r=new p(t,this.cache),o=r.subscribe(n);return i(e,o,t,n),o},t.prototype.once=function(t,n,e){var i,r=function(t){i.dispose(),n(t)},o=r.bind(n);return i=this.subscribe(t,o,e)},t}()},function(t,n){var e=function(){function t(){this.dict={}}return t.prototype.encodeKey=function(t){return"$"+t},t.prototype.add=function(t,n){var e=this.dict,i=this.encodeKey(t);return e.hasOwnProperty(i)?(e[i].push(n),e[i].length):(e[i]=[n],1)},t.prototype.get=function(t){var n=this.encodeKey(t);return this.dict[n]||[]},t.prototype.exists=function(t){var n=this.encodeKey(t);return this.dict.hasOwnProperty(n)},t.prototype.clear=function(t){this.get(t);this.remove(t)},t.prototype.remove=function(t,n){var e,i=this.encodeKey(t),r=this.dict[i];if(!r)throw new Error("Key does not exist");if(!n)return delete this.dict[i],0;if(e=this.removeFromArray(r,n),-1===e)throw new Error("Trying to remove non-existant element from the bucket");return 0===r.length&&delete this.dict[i],r.length},t.prototype.removeFromArray=function(t,n){var e=t.indexOf(n);return e>=0&&t.splice(e,1),e},t}();n.BucketHash=e},function(t,n){var e=function(){function t(t,n){this.isDisposed=!1,this.disposeFn=t,this.count=n?n:0}return t.prototype.dispose=function(t){if(this.isDisposed)throw new Error("Subscription is already disposed");return this.isDisposed=!0,this.disposeFn(t)},t}();n.SubscriptionToken=e},function(t,n){var e=function(){function t(){}return t.randomString=function(t){void 0===t&&(t=8);for(var n="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=0;t>i;i++)n+=e.charAt(Math.floor(Math.random()*e.length));return n},t}();Object.defineProperty(n,"__esModule",{value:!0}),n["default"]=e}]);